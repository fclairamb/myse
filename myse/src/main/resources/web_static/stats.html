<h1 class="page-header">Stats</h1>
<h2>Sources</h2>
<table class="table table-striped">
	<thead>
		<tr>
			<th>Name</th>
			<th>Indexed document</th>
			<th>Left to analyse</th>
			<th>Size</th>
		</tr>
	</thead>
	<tbody>
		<tr ng-repeat="s in stats.data.sources">
			<td>{{ s.name}}</td>
			<td>{{ s.docsNbIndexed }}</td>
			<td>{{ s.docsNbToAnalyse }}</td>
			<td>{{ s.size | filesize }} - {{ s.sizePercentage}}%</td>
		</tr>
	</tbody>
</table>

<div class="progress">
	<div ng-repeat="s in stats.data.sources track by $index" class="progress-bar" ng-class="{ 'progress-bar-success': ($index % 2 == 0)}" role="progressbar" aria-valuenow="{{ s.sizePercentage}}" aria-valuemin="0" aria-valuemax="100" style="width: {{ s.sizePercentage}}%;">
		{{ s.name}} ({{ s.sizePercentage}}%)
	</div>
</div>

<h2>Disk usage</h2>
<table class="table table-striped">
	<thead>
		<tr>
			<th>Name</th>
			<th>Size</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>H2 (relational database)</td>
			<td>{{ stats.data.h2Size | filesize }}</td>
		</tr>
		<tr>
			<td>ES (documents database)</td>
			<td>{{ stats.data.esSize | filesize }}</td>
		</tr>
		<tr>
			<td>Logs</td>
			<td>{{ stats.data.logsSize | filesize }}</td>
		</tr>
		<tr>
			<td><strong>TOTAL</strong></td>
			<td><strong>{{ stats.data.totalSize | filesize }}</strong></td>
		</tr>
	</tbody>
</table>
